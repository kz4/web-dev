<!--start-header-->
<div class="header">
	<div class="container">
		<div class="head">
			<div class="navigation">
				<nav class="navbar-fixed-top navig">
					<div class="container-fluid">
						<div class="navbar-header">
							<a href="#/" class="navbar-brand active">Yummy Booklet</a>
							<div ng-show="!currentUser">
								<p class="navbar-text pull-right">
									<a href="#/login" class="login">Log in</a>
									<span>|</span>
									<a href="#/register" class="register">Register</a>
								</p>
							</div>
							<div ng-show="currentUser">
								<p class="navbar-text pull-right">
									<a href="#/user/{{model.currentUser._id}}" class="login">{{model.currentUser.username}}</a>
									<span>|</span>
									<a ng-click="model.logout()" class="login">Log out</a>
								</p>
							</div>
						</div>
					</div>
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- script-for-menu -->
<!-- script-for-menu -->
<script>
	$("span.menu").click(function () {
		$(" ul.navig").slideToggle("slow", function () {
		});
	});
</script>
<!-- script-for-menu -->
<div class="about">
	<div class="container">
		<div class="about-main">
			<div class="col-md-8 about-left">
				<div class="about-two">
					<a>
						<img src="images/admin.png" alt="Profile Picture"/>
					</a>
				</div>
			</div>
			<div class="col-md-4 about-right">
				<div class="about-one">
					<h3><i class="fa fa-users padding-top-50" aria-hidden="true"></i>All Users</h3>
				</div>
				<div class="abt-2">
					<div class="might-grid" ng-repeat="user in model.users">
						<div class="grid-might">
							<div class="user-list" ng-show="user.profilePic">
								<img ng-src="{{user.profilePic}}" alt="Profile Picture" />
							</div>
							<div class="user-list" ng-hide="user.profilePic">
								<img src="images/profile.png" alt="Profile Picture" />
							</div>
							<a href="#/user/{{user._id}}">
								<span class="">{{user.username}}</span>
							</a>



							<div ng-repeat="comment in user.comments">
								<div class="commentDiv">
									<a href="#/user/{{comment.commenterId}}">
										<span class="text-info">{{comment.commenter}}</span>
									</a>&nbsp;
									<span>posted at {{model.getLongDateTime(comment.date)}}</span>&nbsp;
									<button class="btn-right" ng-click="comment.isThisReplyCommentAreaShown = true">
										Reply
									</button>
									<br/>
									<span class="commentText">{{comment.content}}</span>
									<div ng-if="comment.isThisReplyCommentAreaShown">
									<textarea ng-model="replyToAComment" class="form-control" rows="4"
											  placeholder="Reply a comment here..."></textarea>
										<button
												ng-click="model.submitAReplyToAComment(replyToAComment, comment._id, comment.commenterId, comment.commenter, $index)"
												class="btn btn-primary">Submit
										</button>
										<button ng-click="comment.isThisReplyCommentAreaShown = false"
												class="btn btn-danger">Cancel
										</button>
									</div>
								</div>

								<!--iterate replies in each comment-->
								<div ng-show="comment.replies.length > 0" class="replyDiv">
									<div class="replyDiv1">
										<span class="glyphicon glyphicon-triangle-top"></span>
									</div>
									<div class="replyDiv2">
										<div ng-repeat="reply in comment.replies">
											<a href="#/user/{{reply.replierId}}">
												<span class="text-info">{{reply.replier}}</span>
											</a>&nbsp;@
											<a href="#/user/{{reply.hostId}}">
												<span class="text-info">{{reply.host}}</span>
											</a>
											<span>at {{model.getLongDateTime(reply.date)}}:</span>&nbsp;
											<span class="commentText">{{reply.content}}</span>&nbsp;

											<!--TODO: implement a reply to a reply-->
											<!--<button ng-click="reply.isThisReplyReplyAreaShown = true"-->
											<!--class="replyBtn">Reply-->
											<!--</button>-->


											<div ng-if="reply.isThisReplyReplyAreaShown">
											<textarea ng-model="replyToAReply" class="form-control" rows="4"
													  placeholder="This is a reply to a reply"></textarea>
												<button ng-click="model.submitAReplyToAReply(replyToAReply, comment._id, reply.replierId, reply.replier, $index, $parent.$parent.$index)"
														class="btn btn-primary">Submit
												</button>
												<button ng-click="reply.isThisReplyReplyAreaShown = false"
														class="btn btn-danger">Cancel
												</button>
											</div>

										</div>
									</div>
								</div>
							</div>




						</div>
						<div class="might-top">
							<button class="btn-right" ng-click="model.deleteUser(user._id)">
								Delete
							</button>
							<button class="btn-right" ng-click="model.editUser(user)">
								Edit
								<!--<a href="#/user/{{user._id}}">Edit</a>-->
							</button>
						</div>
					</div>
				</div>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>
</div>